<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <!-- server action -->
    <record model="ir.actions.server" id="lead_start_survey">
      <field name="name">Start Survey</field>
      <field name="state">code</field>
      <field name="condition" eval="True" />
      <field name="model_id" ref="crm.model_crm_lead" />
      <field name="code">

if record:
    action = record.env['crm.phonecall'].with_context(default_lead_id=context.get('active_id')).action_make_survey()
#env['crm.phonecall'].with_context(default_lead_id=context.get('active_id')).action_make_survey()
      </field>
    </record>
    <record model="ir.values" id="actions_lead_start_survey">
      <field name="name">Start Survey</field>
      <field name="model">crm.lead</field>
      <field name="key2">client_action_multi</field>
      <field name="value" eval="'ir.actions.server,%d' % lead_start_survey" />
    </record>

    <record model="ir.actions.server" id="partner_start_survey">
      <field name="name">Start Survey</field>
      <field name="state">code</field>
      <field name="condition" eval="True" />
      <field name="model_id" ref="base.model_res_partner" />
      <field name="code">
if record:
    action = record.env['crm.phonecall'].with_context(default_partner_id=context.get('active_id')).action_make_survey()
#env['crm.phonecall'].with_context(default_lead_id=context.get('active_id')).action_make_survey()
      </field>
    </record>
    <record model="ir.values" id="actions_partner_start_survey">
      <field name="name">Start Survey</field>
      <field name="model">res.partner</field>
      <field name="key2">client_action_multi</field>
      <field name="value" eval="'ir.actions.server,%d' % partner_start_survey" />
    </record>

  </data>
</odoo>
