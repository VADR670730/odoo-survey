<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
    <record id="survey_question_form" model="ir.ui.view">
      <field name="name">Form view for survey question.inherited.hr_onboarding</field>
      <field name="model">survey.question</field>
      <field name="inherit_id" ref="survey.survey_question_form" />
      <field name="arch" type="xml">
        <page string="Options" position="inside">
          <group string="Meta Data">
            <field name="fields_name" />
          </group>
        </page>
      </field>
    </record>
    <record model="ir.ui.view" id="survey_question_form">
      <field name="name">Form view for survey question</field>
      <field name="model">survey.question</field>
      <field name="inherit_id" ref="survey.survey_question_form" />
      <field name="arch" type="xml">
        <field name="quizz_mark" position='before'>
          <field name='tecnical_value' />
        </field>
      </field>
    </record>
    <record id="view_employee_form" model="ir.ui.view">
      <field name="name">hr.employee.form.inherited.hr_onboarding</field>
      <field name="model">hr.employee</field>
      <field name="inherit_id" ref="hr.view_employee_form" />
      <field name="arch" type="xml">
        <page string="Personal Information" position="inside">
          <group string="Medical Status">
            <field name="medical_status" />
          </group>
        </page>
      </field>
    </record>
    <!-- Hr Onboard Kanban View -->
    <record id="view_hr_employee_kanban" model="ir.ui.view">
      <field name="name">hr.employee.kanban</field>
      <field name="model">hr.employee</field>
      <field name="arch" type="xml">
        <kanban default_group_by="onboard_stage_id">
          <field name="image_medium" />
          <field name="name" />
          <field name="job_id" />
          <field name="work_email" />
          <field name="work_phone" />
          <field name="color" />
          <templates>
            <t t-name="kanban-box">
              <div t-attf-class="oe_kanban_color_#{kanban_getcolor(record.color.raw_value)} oe_kanban_card oe_kanban_global_click">
                <div class="oe_dropdown_toggle oe_dropdown_kanban" groups="base.group_user">
                  <span class="oe_e">Ã­</span>
                  <ul class="oe_dropdown_menu">
                    <li>
                      <ul class="oe_kanban_colorpicker" data-field="color" />
                    </li>
                  </ul>
                </div>
                <div class="oe_kanban_content">
                  <div>
                    <b>
                      <field name="name" />
                    </b>
                  </div>
                  <div>
                    Job:
                    <field name="job_id" />
                    <br />
                    Work Email:
                    <field name="work_email" />
                    <br />
                    Work phone:
                    <field name="work_phone" />
                  </div>
                  <div class="oe_kanban_bottom_left">
                    <a name="action_onboard_form" type="object" groups="base.group_hr_user">Update</a>
                  </div>
                  <div class="oe_kanban_bottom_right">
                    <img t-att-src="kanban_image('hr.employee', 'image_medium', record.raw_value)" t-att-title="record.value" width="100" height="100" class="oe_kanban_avatar pull-right" />
                  </div>
                </div>
                <div class="oe_clear" />
              </div>
            </t>
          </templates>
        </kanban>
      </field>
    </record>
    <record id="act_hr_employee" model="ir.actions.act_window">
      <field name="name">Employees Onboard Action</field>
      <field name="res_model">hr.employee</field>
      <field name="view_type">form</field>
      <field name="view_mode">kanban,tree,form</field>
      <field name="view_id" ref="view_hr_employee_kanban" />
      <!--
           <field name="view_ids" eval="[(5, 0, 0), (0, 0, {'view_mode': 'kanban', 'view_id': ref('hr_onboarding.view_hr_employee_kanban')}), (0, 0, {'view_mode': 'tree', 'view_id': ref('hr.view_employee_tree')}), (0, 0, {'view_mode': 'form', 'view_id': ref('hr_onboarding.view_employee_form_hr_onboard')})]" />
      -->
    </record>
    <record id="view_hr_onboard_stage_form" model="ir.ui.view">
      <field name="name">hr.onboard.stage.form</field>
      <field name="model">hr.onboard.stage</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Onboard Stage">
          <sheet>
            <div class="oe_title">
              <label for="name" class="oe_edit_only" string="Name" />
              <h1>
                <field name="name" string="Name" />
              </h1>
            </div>
            <group>
              <group col="4">
                <field name="name" />
                <field name="technical_name" />
              </group>
              <group col="4">
                <field name="view_id" />
                <field name="survey_id" />
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>
    <record id="view_hr_onboard_stage_tree" model="ir.ui.view">
      <field name="name">hr.onboard.stage.tree</field>
      <field name="model">hr.onboard.stage</field>
      <field name="type">tree</field>
      <field name="arch" type="xml">
        <tree>
          <field name="sequence" widget="handle" />
          <field name="name" />
          <field name="technical_name" />
          <field name="view_id" />
          <field name="survey_id" />
        </tree>
      </field>
    </record>
    <record id="act_hr_onboard_stage" model="ir.actions.act_window">
      <field name="name">Onboard Stage Action</field>
      <field name="res_model">hr.onboard.stage</field>
      <field name="view_type">form</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_hr_onboard_stage_tree" />
    </record>
    <menuitem id="menu_hr_onboard" name="Onboard" parent="base.menu_crm_case_job_req_main" action="act_hr_employee" groups="base.group_user" sequence="50" />
    <menuitem id="menu_hr_onboard_stage" name="Onboard Stage" parent="base.menu_crm_case_job_req_main" action="act_hr_onboard_stage" groups="base.group_user" sequence="55" />
  </data>
  <!-- wizards -->
  <data>
    <record id="wizard_employee_form_hr_onboard_company_info" model="ir.ui.view">
      <field name="name">Update Company Info</field>
      <field name="model">hr.employee.company.info.wizard</field>
      <field name="arch" type="xml">
        <form string="Employee Company Info">
          <group>
            <field name="user_name" />
            <field name="password" />
            <field name="confirm_password" />
            <field name="email" />
          </group>
          <footer>
            <div>
              <button name="confirm" string="Confirm" type="object" class="oe_highlight" />
              or
              <button special="cancel" string="Cancel" class="oe_link" />
            </div>
          </footer>
        </form>
      </field>
    </record>
    <record id="wizard_employee_form_hr_onboard_contract_info" model="ir.ui.view">
      <field name="name">Update Contract Info</field>
      <field name="model">hr.employee.contract.info.wizard</field>
      <field name="arch" type="xml">
        <form string="Employee Contract Info">
          <group>
            <field name="employee_id" invisible="1" />
            <field name="partner_id" invisible="1" />
            <group string="Position">
              <field name="department_id" />
              <field name="job_id" />
              <field name="coach_id" />
              <field name="manager" />
            </group>
            <group string="Contract">
              <field name="contract_type_id" />
              <field name="struct_id" />
              <label for="trial_date_start" string="Trial Period Duration" />
              <div>
                <field name="trial_date_start" />
                -
                <field name="trial_date_end" />
              </div>
              <label for="duration_date_start" string="Duration" />
              <div>
                <field name="duration_date_start" />
                -
                <field name="duration_date_end" />
              </div>
              <field name="working_hours" />
              <field name="wage" />
              <field name="prel_tax_amount" />
              <field name="wage_tax_base" />
            </group>
            <group string="Bank Accounts" attrs="{'invisible': [('partner_id', '=', False)]}">
              <field name="bank_id" context="{'default_partner_id': partner_id, 'form_view_ref': 'base.view_partner_bank_form'}" />
            </group>
          </group>
          <footer>
            <div>
              <button name="confirm" string="Confirm" type="object" class="oe_highlight" />
              or
              <button special="cancel" string="Cancel" class="oe_link" />
            </div>
          </footer>
        </form>
      </field>
    </record>
  </data>
</openerp>